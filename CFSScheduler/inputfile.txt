cd Docu	Last login: Sat Oct 24 22:14:41 on ttys000
owong:~ awong$ cd Documents/GitHub/C-Repo/
owong:C-Repo awong$ ls -l
total 0
drwxr-xr-x  3 awong  staff  102 25 Oct 11:16 ProducerConsumer
drwxr-xr-x  6 awong  staff  204 27 Feb  2015 ReaderWriter
owong:C-Repo awong$ cd ProducerConsumer/
owong:ProducerConsumer awong$ ls
main.c
owong:ProducerConsumer awong$ gcc main.c -o main
main.c:19:81: error: extraneous ')' before ';'
  ...sizeof(struct buf_element) * 100, 0666 | IPC_CREAT));
                                                        ^
main.c:27:24: error: use of undeclared identifier 'stmid'; did you mean 'shmid'?
        shared_memory = shmat(stmid, (void *)0, 0);
                              ^~~~~
                              shmid
main.c:15:6: note: 'shmid' declared here
        int shmid;      // Shared Memory Id
            ^
2 errors generated.
owong:ProducerConsumer awong$ gcc main.c -o main
main.c:19:81: error: extraneous ')' before ';'
  ...sizeof(struct buf_element) * 100, 0666 | IPC_CREAT));
                                                        ^
1 error generated.
owong:ProducerConsumer awong$ gcc main.c -o main
main.c:19:58: error: indirection requires pointer operand ('int' invalid)
        shmid = shmget((key_t)7777, sizeof((struct buf_element) * 100, 0666 | IP...
                                                                ^ ~~~
1 error generated.
owong:ProducerConsumer awong$ gcc main.c -o main
main.c:19:58: error: indirection requires pointer operand ('int' invalid)
        shmid = shmget((key_t)7777, sizeof((struct buf_element) * 100, 0666 | IP...
                                                                ^ ~~~
main.c:46:2: error: expected '}'
}
 ^
main.c:14:1: note: to match this '{'
{
^
2 errors generated.
owong:ProducerConsumer awong$ gcc main.c -o main
owong:ProducerConsumer awong$ main
-bash: main: command not found
owong:ProducerConsumer awong$ ./main 
Memory attached at C025000
owong:ProducerConsumer awong$ ./main 
Memory attached at 1B43000
owong:ProducerConsumer awong$ ./main 
Memory attached at C5CE000
owong:ProducerConsumer awong$ ./main 
Memory attached at 8FA0000
owong:ProducerConsumer awong$ ./main 
Memory attached at 8A69000
owong:ProducerConsumer awong$ ./main 
Memory attached at B23B000
owong:ProducerConsumer awong$ ./main 
Memory attached at EF8000
owong:ProducerConsumer awong$ ./main 
Memory attached at 4CB0000
owong:ProducerConsumer awong$ gcc main.c -o main
main.c:7:10: fatal error: 'semaphores.h' file not found
#include <semaphores.h>
         ^
1 error generated.
owong:ProducerConsumer awong$ gcc main.c -o main
main.c:7:10: fatal error: 'semaphores.h' file not found
#include "semaphores.h"
         ^
1 error generated.
owong:ProducerConsumer awong$ gcc main.c -o main
In file included from main.c:7:
./semaphores.h:5:11: error: redefinition of 'semun'
    union semun {
          ^
/usr/include/sys/sem.h:176:7: note: previous definition is here
union semun {
      ^
main.c:33:19: error: too many arguments to function call, expected 0, have 2
        if(!set_semvalue(sem_S_id, 1)) {
            ~~~~~~~~~~~~ ^~~~~~~~~~~
main.c:12:1: note: 'set_semvalue' declared here
static int set_semvalue(void);
^
main.c:41:19: error: too many arguments to function call, expected 0, have 2
        if(!set_semvalue(sem_N_id, 0)) {
            ~~~~~~~~~~~~ ^~~~~~~~~~~
main.c:12:1: note: 'set_semvalue' declared here
static int set_semvalue(void);
^
main.c:49:19: error: too many arguments to function call, expected 0, have 2
        if(!set_semvalue(sem_E_id, 100)) {
            ~~~~~~~~~~~~ ^~~~~~~~~~~~~
main.c:12:1: note: 'set_semvalue' declared here
static int set_semvalue(void);
^
main.c:88:12: error: conflicting types for 'set_semvalue'
static int set_semvalue(int sem_id, int value)
           ^
main.c:12:12: note: previous declaration is here
static int set_semvalue(void);
           ^
main.c:98:13: error: conflicting types for 'del_semvalue'
static void del_semvalue(int sem_id)
            ^
main.c:13:13: note: previous declaration is here
static void del_semvalue(void);
            ^
6 errors generated.
owong:ProducerConsumer awong$ gcc main.c -o main
In file included from main.c:7:
./semaphores.h:5:11: error: redefinition of 'semun'
    union semun {
          ^
/usr/include/sys/sem.h:176:7: note: previous definition is here
union semun {
      ^
1 error generated.
owong:ProducerConsumer awong$ gcc main.c -o main
In file included from main.c:7:
./semaphores.h:5:11: error: redefinition of 'semun'
    union semun {
          ^
/usr/include/sys/sem.h:176:7: note: previous definition is here
union semun {
      ^
1 error generated.
owong:ProducerConsumer awong$ gcc main.c semahpores.c -o main
clang: error: no such file or directory: 'semahpores.c'
owong:ProducerConsumer awong$ gcc main.c semahpores.h -o main
clang: error: no such file or directory: 'semahpores.h'
owong:ProducerConsumer awong$ gcc main.c semaphores.h -o main
clang: error: cannot specify -o when generating multiple output files
owong:ProducerConsumer awong$ gcc main.c -o main
In file included from main.c:7:
./semaphores.h:5:11: error: redefinition of 'semun'
    union semun {
          ^
/usr/include/sys/sem.h:176:7: note: previous definition is here
union semun {
      ^
1 error generated.
owong:ProducerConsumer awong$ gcc main.c -o main
main.c:31:13: warning: implicit declaration of function 'semget' is invalid in
      C99 [-Wimplicit-function-declaration]
        sem_S_id = semget((key_t)9000, 1, 0666| IPC_CREAT);
                   ^
main.c:93:9: warning: implicit declaration of function 'semctl' is invalid in
      C99 [-Wimplicit-function-declaration]
    if (semctl(sem_id, 0, SETVAL, sem_union) == -1) return(0);
        ^
main.c:93:27: error: use of undeclared identifier 'SETVAL'
    if (semctl(sem_id, 0, SETVAL, sem_union) == -1) return(0);
                          ^
2 warnings and 1 error generated.
owong:ProducerConsumer awong$ gcc main.c -o main
In file included from main.c:7:
./semaphores.h:5:11: error: redefinition of 'semun'
    union semun {
          ^
/usr/include/sys/sem.h:176:7: note: previous definition is here
union semun {
      ^
1 error generated.
owong:ProducerConsumer awong$ gcc main.c -o main
owong:ProducerConsumer awong$ gcc main.c -o main
owong:ProducerConsumer awong$ ./main 
Memory attached at C413000
owong:ProducerConsumer awong$ gcc main.c -o main
owong:ProducerConsumer awong$ ./main 
Semaphore S created at 393238Semaphore N created at 327703.
Semaphore E created at 262168.
Memory attached at B0F7000
owong:ProducerConsumer awong$ gcc main.c -o main
owong:ProducerConsumer awong$ ./main 
Semaphore S created at 458774Semaphore N created at 393239.
Semaphore E created at 327704.
Memory attached at 42B000
owong:ProducerConsumer awong$ gcc main.c -o main
owong:ProducerConsumer awong$ ./main 
Semaphore S created at 524310.
Semaphore N created at 458775.
Semaphore E created at 393240.
Memory attached at 6B1000
owong:ProducerConsumer awong$ ./main 
Semaphore S created at 589846.
Semaphore N created at 524311.
Semaphore E created at 458776.
Memory attached at E282000
owong:ProducerConsumer awong$ gcc main.c -o main
owong:ProducerConsumer awong$ ./main 
Semaphore S created -> 655382.
Semaphore N created -> 589847.
Semaphore E created -> 524312.
Memory attached at FA7C000
owong:ProducerConsumer awong$ gcc main.c -o main
owong:ProducerConsumer awong$ gcc main.c -o main
main.c:26:13: error: expected ']'
        char    text[TEXT_SIZE];
                     ^
main.c:11:22: note: expanded from macro 'TEXT_SIZE'
#define TEXT_SIZE 128;
                     ^
main.c:26:12: note: to match this '['
        char    text[TEXT_SIZE];
                    ^
main.c:26:22: error: type name requires a specifier or qualifier
        char    text[TEXT_SIZE];
                              ^
main.c:26:22: error: expected member name or ';' after declaration specifiers
        char    text[TEXT_SIZE];
                              ^
main.c:26:22: error: expected ';' at end of declaration list
        char    text[TEXT_SIZE];
                              ^
                              ;
4 errors generated.
owong:ProducerConsumer awong$ gcc main.c -o main
main.c:26:13: error: expected ']'
        char    text[TEXT_SIZE[128]];
                     ^
main.c:11:22: note: expanded from macro 'TEXT_SIZE'
#define TEXT_SIZE 128;
                     ^
main.c:26:12: note: to match this '['
        char    text[TEXT_SIZE[128]];
                    ^
main.c:26:22: error: type name requires a specifier or qualifier
        char    text[TEXT_SIZE[128]];
                              ^
main.c:26:27: error: expected member name or ';' after declaration specifiers
        char    text[TEXT_SIZE[128]];
                                   ^
main.c:26:27: error: expected ';' at end of declaration list
        char    text[TEXT_SIZE[128]];
                                   ^
                                   ;
4 errors generated.
owong:ProducerConsumer awong$ gcc main.c -o main
owong:ProducerConsumer awong$ gcc main.c -o main
owong:ProducerConsumer awong$ ./main 
Semaphore S created -> 720918.
Semaphore N created -> 655383.
Semaphore E created -> 589848.
Memory attached at 5473000
owong:ProducerConsumer awong$ gcc main.c -o main
main.c:19:12: warning: function 'init_semphores' has internal linkage but is
      not defined [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:39:2: note: used here
        init_semphores();
        ^
main.c:20:12: warning: function 'init_sharedMemory' has internal linkage but is
      not defined [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:40:2: note: used here
        init_sharedMemory();
        ^
main.c:15:13: warning: function 'del_semvalue' has internal linkage but is not
      defined [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:43:2: note: used here
        del_semvalue(sem_S_id);
        ^
main.c:21:12: warning: function 'del_sharedMemory' has internal linkage but is
      not defined [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:47:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-ffdf63.o
  "_del_sharedMemory", referenced from:
      _main in main-ffdf63.o
  "_init_semphores", referenced from:
      _main in main-ffdf63.o
  "_init_sharedMemory", referenced from:
      _main in main-ffdf63.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ gcc main.c -o main
In file included from main.c:9:
./functions.h:13:13: error: expected ']'
        char    text[TEXT_SIZE];
                     ^
./functions.h:10:22: note: expanded from macro 'TEXT_SIZE'
#define TEXT_SIZE 128;
                     ^
./functions.h:13:12: note: to match this '['
        char    text[TEXT_SIZE];
                    ^
./functions.h:13:22: error: type name requires a specifier or qualifier
        char    text[TEXT_SIZE];
                              ^
./functions.h:13:22: error: expected member name or ';' after declaration
      specifiers
        char    text[TEXT_SIZE];
                              ^
./functions.h:13:22: error: expected ';' at end of declaration list
        char    text[TEXT_SIZE];
                              ^
                              ;
main.c:29:14: error: redefinition of 'shared_memory'
static void *shared_memory = (void *)0;
             ^
./functions.h:24:14: note: previous definition is here
static void *shared_memory = (void *)0;
             ^
main.c:31:8: error: redefinition of 'buf_element'
struct buf_element {
       ^
./functions.h:12:8: note: previous definition is here
struct buf_element {
       ^
6 errors generated.
owong:ProducerConsumer awong$ gcc main.c -o main
In file included from main.c:9:
./functions.h:13:13: error: expected ']'
        char    text[TEXT_SIZE];
                     ^
./functions.h:10:22: note: expanded from macro 'TEXT_SIZE'
#define TEXT_SIZE 128;
                     ^
./functions.h:13:12: note: to match this '['
        char    text[TEXT_SIZE];
                    ^
./functions.h:13:22: error: type name requires a specifier or qualifier
        char    text[TEXT_SIZE];
                              ^
./functions.h:13:22: error: expected member name or ';' after declaration
      specifiers
        char    text[TEXT_SIZE];
                              ^
./functions.h:13:22: error: expected ';' at end of declaration list
        char    text[TEXT_SIZE];
                              ^
                              ;
4 errors generated.
owong:ProducerConsumer awong$ gcc main.c -o main
In file included from main.c:9:
./functions.h:27:12: warning: function 'init_semphores' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:39:2: note: used here
        init_semphores();
        ^
In file included from main.c:9:
./functions.h:36:12: warning: function 'init_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:40:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:30:13: warning: function 'del_semvalue' has internal linkage but
      is not defined [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:43:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:37:12: warning: function 'del_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:47:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-1e6c08.o
  "_del_sharedMemory", referenced from:
      _main in main-1e6c08.o
  "_init_semphores", referenced from:
      _main in main-1e6c08.o
  "_init_sharedMemory", referenced from:
      _main in main-1e6c08.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ gcc main.c -o main
In file included from main.c:9:
./functions.h:27:12: warning: function 'init_semphores' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:39:2: note: used here
        init_semphores();
        ^
In file included from main.c:9:
./functions.h:36:12: warning: function 'init_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:40:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:30:13: warning: function 'del_semvalue' has internal linkage but
      is not defined [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:43:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:37:12: warning: function 'del_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:47:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-e763df.o
  "_del_sharedMemory", referenced from:
      _main in main-e763df.o
  "_init_semphores", referenced from:
      _main in main-e763df.o
  "_init_sharedMemory", referenced from:
      _main in main-e763df.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ gcc main.c semahpores.c shmem.c -o main
clang: error: no such file or directory: 'semahpores.c'
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
In file included from main.c:9:
./functions.h:27:12: warning: function 'init_semphores' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:39:2: note: used here
        init_semphores();
        ^
In file included from main.c:9:
./functions.h:36:12: warning: function 'init_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:40:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:30:13: warning: function 'del_semvalue' has internal linkage but
      is not defined [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:43:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:37:12: warning: function 'del_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:47:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-cc930c.o
  "_del_sharedMemory", referenced from:
      _main in main-cc930c.o
  "_init_semphores", referenced from:
      _main in main-cc930c.o
  "_init_sharedMemory", referenced from:
      _main in main-cc930c.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ ls -l
total 56
-rw-r--r--  1 awong  staff   190 26 Oct 00:53 Consumer.c
-rw-r--r--  1 awong  staff   815 26 Oct 00:53 functions.h
-rw-r--r--  1 awong  staff  4113 26 Oct 00:53 main.c
-rw-r--r--  1 awong  staff  2513 26 Oct 00:53 semaphores.c
-rw-r--r--  1 awong  staff  2595 26 Oct 00:53 semaphores.h
-rw-r--r--  1 awong  staff   987 26 Oct 00:53 shmem.c
owong:ProducerConsumer awong$ ls
Consumer.c	main.c		semaphores.h
functions.h	semaphores.c	shmem.c
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
In file included from main.c:9:
./functions.h:27:12: warning: function 'init_semphores' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:39:2: note: used here
        init_semphores();
        ^
In file included from main.c:9:
./functions.h:36:12: warning: function 'init_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:40:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:30:13: warning: function 'del_semvalue' has internal linkage but
      is not defined [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:43:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:37:12: warning: function 'del_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:47:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-95f2ee.o
  "_del_sharedMemory", referenced from:
      _main in main-95f2ee.o
  "_init_semphores", referenced from:
      _main in main-95f2ee.o
  "_init_sharedMemory", referenced from:
      _main in main-95f2ee.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ make
gcc main.c shmem.c semaphores.c -lpthread -o main
In file included from main.c:9:
./functions.h:27:12: warning: function 'init_semphores' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:39:2: note: used here
        init_semphores();
        ^
In file included from main.c:9:
./functions.h:36:12: warning: function 'init_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:40:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:30:13: warning: function 'del_semvalue' has internal linkage but
      is not defined [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:43:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:37:12: warning: function 'del_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:47:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-ca6b7b.o
  "_del_sharedMemory", referenced from:
      _main in main-ca6b7b.o
  "_init_semphores", referenced from:
      _main in main-ca6b7b.o
  "_init_sharedMemory", referenced from:
      _main in main-ca6b7b.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc main.c shmem.c semaphores.c -lpthread -o main
In file included from main.c:9:
./functions.h:27:12: warning: function 'init_semphores' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:39:2: note: used here
        init_semphores();
        ^
In file included from main.c:9:
./functions.h:36:12: warning: function 'init_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:40:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:30:13: warning: function 'del_semvalue' has internal linkage but
      is not defined [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:43:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:37:12: warning: function 'del_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:47:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-501568.o
  "_del_sharedMemory", referenced from:
      _main in main-501568.o
  "_init_semphores", referenced from:
      _main in main-501568.o
  "_init_sharedMemory", referenced from:
      _main in main-501568.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc main.c shmem.c semaphores.c -lpthread -o main
In file included from main.c:9:
./functions.h:27:12: warning: function 'init_semphores' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:39:2: note: used here
        init_semphores();
        ^
In file included from main.c:9:
./functions.h:36:12: warning: function 'init_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:40:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:30:13: warning: function 'del_semvalue' has internal linkage but
      is not defined [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:43:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:37:12: warning: function 'del_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:47:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-08f63f.o
  "_del_sharedMemory", referenced from:
      _main in main-08f63f.o
  "_init_semphores", referenced from:
      _main in main-08f63f.o
  "_init_sharedMemory", referenced from:
      _main in main-08f63f.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
In file included from main.c:9:
./functions.h:27:12: warning: function 'init_semphores' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:39:2: note: used here
        init_semphores();
        ^
In file included from main.c:9:
./functions.h:36:12: warning: function 'init_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:40:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:30:13: warning: function 'del_semvalue' has internal linkage but
      is not defined [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:43:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:37:12: warning: function 'del_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:47:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-4a7c73.o
  "_del_sharedMemory", referenced from:
      _main in main-4a7c73.o
  "_init_semphores", referenced from:
      _main in main-4a7c73.o
  "_init_sharedMemory", referenced from:
      _main in main-4a7c73.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c  -lpthread -o main
Undefined symbols for architecture x86_64:
  "_main", referenced from:
     implicit entry/start for main executable
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
In file included from main.c:9:
./functions.h:27:12: warning: function 'init_semphores' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:39:2: note: used here
        init_semphores();
        ^
In file included from main.c:9:
./functions.h:36:12: warning: function 'init_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:40:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:30:13: warning: function 'del_semvalue' has internal linkage but
      is not defined [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:43:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:37:12: warning: function 'del_sharedMemory' has internal linkage
      but is not defined [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:47:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-39f330.o
  "_del_sharedMemory", referenced from:
      _main in main-39f330.o
  "_init_semphores", referenced from:
      _main in main-39f330.o
  "_init_sharedMemory", referenced from:
      _main in main-39f330.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
In file included from main.c:9:
./functions.h:19:12: warning: function 'init_semphores' has internal linkage but is not defined
      [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:39:2: note: used here
        init_semphores();
        ^
In file included from main.c:9:
./functions.h:28:12: warning: function 'init_sharedMemory' has internal linkage but is not defined
      [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:40:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:22:13: warning: function 'del_semvalue' has internal linkage but is not defined
      [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:43:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:29:12: warning: function 'del_sharedMemory' has internal linkage but is not defined
      [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:47:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-d98c0f.o
  "_del_sharedMemory", referenced from:
      _main in main-d98c0f.o
  "_init_semphores", referenced from:
      _main in main-d98c0f.o
  "_init_sharedMemory", referenced from:
      _main in main-d98c0f.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
In file included from main.c:9:
./functions.h:19:12: warning: function 'init_semphores' has internal linkage but is not defined
      [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:39:2: note: used here
        init_semphores();
        ^
In file included from main.c:9:
./functions.h:28:12: warning: function 'init_sharedMemory' has internal linkage but is not defined
      [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:40:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:22:13: warning: function 'del_semvalue' has internal linkage but is not defined
      [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:43:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:29:12: warning: function 'del_sharedMemory' has internal linkage but is not defined
      [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:47:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-ad2633.o
  "_del_sharedMemory", referenced from:
      _main in main-ad2633.o
  "_init_semphores", referenced from:
      _main in main-ad2633.o
  "_init_sharedMemory", referenced from:
      _main in main-ad2633.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
shmem.c:13:2: error: use of undeclared identifier 'shmid'
        shmid = shmget((key_t)7777, sizeof(struct buf_element) * 100, 0666 | IPC_CREAT);
        ^
shmem.c:15:6: error: use of undeclared identifier 'shmid'
        if (shmid == 1) {
            ^
shmem.c:21:2: error: use of undeclared identifier 'shared_memory'
        shared_memory = shmat(shmid, (void *)0, 0);
        ^
shmem.c:21:24: error: use of undeclared identifier 'shmid'
        shared_memory = shmat(shmid, (void *)0, 0);
                              ^
shmem.c:23:6: error: use of undeclared identifier 'shared_memory'
        if (shared_memory == (void *)-1) {
            ^
shmem.c:28:41: error: use of undeclared identifier 'shared_memory'
        printf("Memory attached at %X\n", (int)shared_memory);
                                               ^
shmem.c:36:15: error: use of undeclared identifier 'shared_memory'
    if (shmdt(shared_memory) == -1) {
              ^
shmem.c:41:16: error: use of undeclared identifier 'shmid'
    if (shmctl(shmid, IPC_RMID, 0) == -1) {
               ^
8 errors generated.
semaphores.c:44:5: error: use of undeclared identifier 'sem_S_id'
    sem_S_id = semget((key_t)9000, 1, 0666| IPC_CREAT);
    ^
semaphores.c:46:22: error: use of undeclared identifier 'sem_S_id'
    if(!set_semvalue(sem_S_id, 1)) {
                     ^
semaphores.c:50:44: error: use of undeclared identifier 'sem_S_id'
    printf("Semaphore S created -> %d.\n", sem_S_id);
                                           ^
semaphores.c:53:5: error: use of undeclared identifier 'sem_N_id'
    sem_N_id = semget((key_t)9001, 1, 0666| IPC_CREAT);
    ^
semaphores.c:55:22: error: use of undeclared identifier 'sem_N_id'
    if(!set_semvalue(sem_N_id, 0)) {
                     ^
semaphores.c:59:44: error: use of undeclared identifier 'sem_N_id'
    printf("Semaphore N created -> %d.\n", sem_N_id);
                                           ^
semaphores.c:62:5: error: use of undeclared identifier 'sem_E_id'
    sem_E_id = semget((key_t)9002, 1, 0666| IPC_CREAT);
    ^
semaphores.c:64:22: error: use of undeclared identifier 'sem_E_id'
    if(!set_semvalue(sem_E_id, 100)) {
                     ^
semaphores.c:68:44: error: use of undeclared identifier 'sem_E_id'
    printf("Semaphore E created -> %d.\n", sem_E_id);
                                           ^
9 errors generated.
In file included from main.c:9:
./functions.h:19:12: warning: function 'init_semphores' has internal linkage but is not defined
      [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:48:2: note: used here
        init_semphores();
        ^
In file included from main.c:9:
./functions.h:28:12: warning: function 'init_sharedMemory' has internal linkage but is not defined
      [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:49:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:22:13: warning: function 'del_semvalue' has internal linkage but is not defined
      [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:52:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:29:12: warning: function 'del_sharedMemory' has internal linkage but is not defined
      [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:56:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
main.c:37:12: error: static declaration of 'sem_S_id' follows non-static declaration
static int sem_S_id;    // Semaphore S - Buffer
           ^
./functions.h:32:5: note: previous definition is here
int sem_S_id;   // Semaphore S - Buffer
    ^
main.c:38:12: error: static declaration of 'sem_N_id' follows non-static declaration
static int sem_N_id;    // Semaphore N - Produced Items
           ^
./functions.h:33:5: note: previous definition is here
int sem_N_id;   // Semaphore N - Produced Items
    ^
main.c:39:12: error: static declaration of 'sem_E_id' follows non-static declaration
static int sem_E_id;    // Semaphore E - Empty Item
           ^
./functions.h:34:5: note: previous definition is here
int sem_E_id;   // Semaphore E - Empty Item
    ^
main.c:41:12: error: static declaration of 'shmid' follows non-static declaration
static int shmid;               // Shared Memory Id
           ^
./functions.h:36:5: note: previous definition is here
int shmid;              // Shared Memory Id
    ^
main.c:43:14: error: static declaration of 'shared_memory' follows non-static declaration
static void *shared_memory = (void *)0;
             ^
./functions.h:38:7: note: previous definition is here
void *shared_memory = (void *)0;
      ^
5 errors generated.
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
In file included from main.c:9:
./functions.h:19:12: warning: function 'init_semphores' has internal linkage but is not defined
      [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:40:2: note: used here
        init_semphores();
        ^
In file included from main.c:9:
./functions.h:28:12: warning: function 'init_sharedMemory' has internal linkage but is not defined
      [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:41:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:22:13: warning: function 'del_semvalue' has internal linkage but is not defined
      [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:44:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:29:12: warning: function 'del_sharedMemory' has internal linkage but is not defined
      [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:48:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-aa1784.o
  "_del_sharedMemory", referenced from:
      _main in main-aa1784.o
  "_init_semphores", referenced from:
      _main in main-aa1784.o
  "_init_sharedMemory", referenced from:
      _main in main-aa1784.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
In file included from main.c:9:
./functions.h:19:12: warning: function 'init_semphores' has internal linkage but is not defined
      [-Wundefined-internal]
static int init_semphores(void);
           ^
main.c:40:13: note: used here
        sem_S_id = init_semphores();
                   ^
In file included from main.c:9:
./functions.h:28:12: warning: function 'init_sharedMemory' has internal linkage but is not defined
      [-Wundefined-internal]
static int init_sharedMemory(void);
           ^
main.c:44:2: note: used here
        init_sharedMemory();
        ^
In file included from main.c:9:
./functions.h:22:13: warning: function 'del_semvalue' has internal linkage but is not defined
      [-Wundefined-internal]
static void del_semvalue(int sem_id);
            ^
main.c:47:2: note: used here
        del_semvalue(sem_S_id);
        ^
In file included from main.c:9:
./functions.h:29:12: warning: function 'del_sharedMemory' has internal linkage but is not defined
      [-Wundefined-internal]
static int del_sharedMemory(void);
           ^
main.c:51:2: note: used here
        del_sharedMemory();
        ^
4 warnings generated.
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-a6af82.o
  "_del_sharedMemory", referenced from:
      _main in main-a6af82.o
  "_init_semphores", referenced from:
      _main in main-a6af82.o
  "_init_sharedMemory", referenced from:
      _main in main-a6af82.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
main.c:36:12: error: static declaration of 'sem_S_id' follows non-static declaration
static int sem_S_id;    // Semaphore S - Buffer
           ^
./functions.h:32:5: note: previous definition is here
int sem_S_id;   // Semaphore S - Buffer
    ^
main.c:37:12: error: static declaration of 'sem_N_id' follows non-static declaration
static int sem_N_id;    // Semaphore N - Produced Items
           ^
./functions.h:33:5: note: previous definition is here
int sem_N_id;   // Semaphore N - Produced Items
    ^
main.c:38:12: error: static declaration of 'sem_E_id' follows non-static declaration
static int sem_E_id;    // Semaphore E - Empty Item
           ^
./functions.h:34:5: note: previous definition is here
int sem_E_id;   // Semaphore E - Empty Item
    ^
main.c:40:12: error: static declaration of 'shmid' follows non-static declaration
static int shmid;               // Shared Memory Id
           ^
./functions.h:36:5: note: previous definition is here
int shmid;              // Shared Memory Id
    ^
main.c:42:14: error: static declaration of 'shared_memory' follows non-static declaration
static void *shared_memory = (void *)0;
             ^
./functions.h:38:7: note: previous definition is here
void *shared_memory = (void *)0;
      ^
5 errors generated.
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-a81195.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-f08017.o
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-a81195.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-be8f9f.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ -v
-bash: -v: command not found
owong:ProducerConsumer awong$ ls -l
total 64
-rw-r--r--  1 awong  staff   190 26 Oct 00:53 Consumer.c
-rw-r--r--  1 awong  staff   104 26 Oct 01:07 Makefile
-rw-r--r--  1 awong  staff   732 26 Oct 01:36 functions.h
-rw-r--r--  1 awong  staff  4186 26 Oct 01:37 main.c
-rw-r--r--  1 awong  staff  2106 26 Oct 01:37 semaphores.c
-rw-r--r--  1 awong  staff  2595 26 Oct 00:53 semaphores.h
-rw-r--r--  1 awong  staff  1075 26 Oct 01:36 shmem.c
owong:ProducerConsumer awong$ ps
  PID TTY           TIME CMD
69407 ttys000    0:00.11 -bash
71410 ttys001    0:00.03 -bash
owong:ProducerConsumer awong$ ps -al
  UID   PID  PPID        F CPU PRI NI       SZ    RSS WCHAN     S             ADDR TTY           TIME CMD
    0 69399 69397     4106   0  31  0  2468972   2932 -      Ss                  0 ttys000    0:02.47 login -pf awong
  501 69407 69399     4006   0  31  0  2461020   1368 -      S                   0 ttys000    0:00.11 -bash
    0 79966 69407     4106   0  31  0  2432952    808 -      R+                  0 ttys000    0:00.00 ps -al
    0 71409 69397     4106   0  31  0  2468972   2928 -      Ss                  0 ttys001    0:00.10 login -pfl awong
  501 71410 71409     4006   0  31  0  2461020   1352 -      S+                  0 ttys001    0:00.03 -bash
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-4ea1a8.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-12190a.o
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-4ea1a8.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-f6d358.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-bb1194.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-72fa36.o
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-bb1194.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-40ac44.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-98ed06.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-3b4a79.o
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-98ed06.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-6fbf65.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-a1c8e6.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-b2dbb5.o
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-a1c8e6.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-e27eca.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ gcc main.c -o c
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-922883.o
  "_del_sharedMemory", referenced from:
      _main in main-922883.o
  "_init_semphores", referenced from:
      _main in main-922883.o
  "_init_sharedMemory", referenced from:
      _main in main-922883.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-c0865a.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-65e74a.o
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-c0865a.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-18daa6.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-bae350.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-c8e128.o
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-bae350.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-b10b6d.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-7a48d6.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-424aa2.o
duplicate symbol _shared_memory in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-7a48d6.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-20a53f.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
shmem.c:28:41: error: use of undeclared identifier 'shared_memory'
        printf("Memory attached at %X\n", (int)shared_memory);
                                               ^
shmem.c:36:15: error: use of undeclared identifier 'shared_memory'
    if (shmdt(shared_memory) == -1) {
              ^
2 errors generated.
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
duplicate symbol _shmem in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-9b972c.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-ca0b57.o
duplicate symbol _shmem in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-9b972c.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-957e74.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-e4af11.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-1493a8.o
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-e4af11.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-661371.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-4277cc.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-943d6e.o
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-4277cc.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-9eff31.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-f9cc50.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-c81ac7.o
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-f9cc50.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-6f9f20.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-7a2a5b.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-5b7fd7.o
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-7a2a5b.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-e5eaba.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ ls -l
total 56
-rw-r--r--  1 awong  staff   190 26 Oct 00:53 Consumer.c
-rw-r--r--  1 awong  staff   104 26 Oct 01:07 Makefile
-rw-r--r--  1 awong  staff   724 26 Oct 01:53 functions.h
-rw-r--r--  1 awong  staff  1025 26 Oct 01:54 main.c
-rw-r--r--  1 awong  staff  2659 26 Oct 01:40 semaphores.c
-rw-r--r--  1 awong  staff  2595 26 Oct 00:53 semaphores.h
-rw-r--r--  1 awong  staff  1047 26 Oct 01:52 shmem.c
owong:ProducerConsumer awong$ rm semaphores.h
owong:ProducerConsumer awong$ ls -l
total 48
-rw-r--r--  1 awong  staff   190 26 Oct 00:53 Consumer.c
-rw-r--r--  1 awong  staff   104 26 Oct 01:07 Makefile
-rw-r--r--  1 awong  staff   724 26 Oct 01:53 functions.h
-rw-r--r--  1 awong  staff  1025 26 Oct 01:54 main.c
-rw-r--r--  1 awong  staff  2659 26 Oct 01:40 semaphores.c
-rw-r--r--  1 awong  staff  1047 26 Oct 01:52 shmem.c
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-5e004c.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-d1f304.o
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-5e004c.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-47dfb9.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-4abd33.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-98cc0e.o
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-4abd33.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-a87952.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ gcc main.c-o main
clang: error: no such file or directory: 'main.c-o'
clang: error: no such file or directory: 'main'
clang: error: no input files
owong:ProducerConsumer awong$ gcc main.c -o main
Undefined symbols for architecture x86_64:
  "_del_semvalue", referenced from:
      _main in main-ec7b71.o
  "_del_sharedMemory", referenced from:
      _main in main-ec7b71.o
  "_init_semphores", referenced from:
      _main in main-ec7b71.o
  "_init_sharedMemory", referenced from:
      _main in main-ec7b71.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -lpthread -o main
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-a456ac.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-4d3451.o
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-a456ac.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-23914c.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-56221c.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/semaphores-b99f04.o
duplicate symbol _objShm in:
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/main-56221c.o
    /var/folders/k_/rgbwb9n563583v331t3q02780000gn/T/shmem-e6361b.o
ld: 2 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore S created -> 786454.
Semaphore N created -> 720919.
Semaphore E created -> 655384.
Memory attached at EE0F000
owong:ProducerConsumer awong$ ./main
Semaphore S created -> 851990.
Semaphore N created -> 786455.
Semaphore E created -> 720920.
Memory attached at 7F6D000
owong:ProducerConsumer awong$ ./main
Semaphore S created -> 917526.
Semaphore N created -> 851991.
Semaphore E created -> 786456.
Memory attached at 5B06000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore S created -> 983062.
Semaphore N created -> 917527.
Semaphore E created -> 851992.
Memory attached at 1B0C000
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 1048598.
Semaphore created -> 983063.
Semaphore created -> 917528.
Memory attached at 89AE000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 1114134.
Semaphore created -> 1048599.
Semaphore created -> 983064.
Memory attached at 7AD6000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 1179670.
Semaphore created -> 1114135.
Semaphore created -> 1048600.
Memory attached at E5C0000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 1245206.
Semaphore created -> 1179671.
Semaphore created -> 1114136.
Memory attached at 645A000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 1310742.
Semaphore created -> 1245207.
Semaphore created -> 1179672.
Memory attached at 8522000
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
semaphores.c:28:9: warning: implicit declaration of function 'set_semvalue' is invalid in C99 [-Wimplicit-function-declaration]
    if(!set_semvalue(sem_id, value)) {
        ^
semaphores.c:100:1: warning: control reaches end of non-void function [-Wreturn-type]
}
^
2 warnings generated.
main.c:44:2: warning: implicit declaration of function 'remove_semphores' is invalid in C99 [-Wimplicit-function-declaration]
        remove_semphores();
        ^
1 warning generated.
Undefined symbols for architecture x86_64:
  "_remove_semphores", referenced from:
      _main in main-c61622.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
semaphores.c:103:1: warning: control reaches end of non-void function [-Wreturn-type]
}
^
1 warning generated.
main.c:44:2: warning: implicit declaration of function 'remove_semphores' is invalid in C99 [-Wimplicit-function-declaration]
        remove_semphores();
        ^
1 warning generated.
Undefined symbols for architecture x86_64:
  "_remove_semphores", referenced from:
      _main in main-6d77d6.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
semaphores.c:103:1: warning: control reaches end of non-void function [-Wreturn-type]
}
^
1 warning generated.
main.c:40:2: warning: implicit declaration of function 'init_semaphores' is invalid in C99 [-Wimplicit-function-declaration]
        init_semaphores();
        ^
1 warning generated.
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
semaphores.c:103:1: warning: control reaches end of non-void function [-Wreturn-type]
}
^
1 warning generated.
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 1376278.
Semaphore created -> 1310743.
Semaphore created -> 1245208.
Memory attached at D103000
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
In file included from shmem.c:1:
./functions.h:30:29: error: unknown type name 'x'
int remove_semaphores(void);x
                            ^
./functions.h:32:1: error: expected identifier or '('
int sem_wait(int sem_id);
^
shmem.c:21:2: error: use of undeclared identifier 'objShm'
        objShm = shmat(shmid, (void *)0, 0);
        ^
shmem.c:23:6: error: use of undeclared identifier 'objShm'
        if (objShm == (void *)-1) {
            ^
shmem.c:28:41: error: use of undeclared identifier 'objShm'
        printf("Memory attached at %X\n", (int)objShm);
                                               ^
shmem.c:30:9: warning: incompatible integer to pointer conversion returning 'int' from a function with result type 'void *'
      [-Wint-conversion]
        return shmid;
               ^~~~~
shmem.c:36:15: error: use of undeclared identifier 'objShm'
    if (shmdt(objShm) == -1) {
              ^
1 warning and 6 errors generated.
In file included from semaphores.c:1:
./functions.h:30:29: error: unknown type name 'x'
int remove_semaphores(void);x
                            ^
./functions.h:32:1: error: expected identifier or '('
int sem_wait(int sem_id);
^
2 errors generated.
In file included from main.c:9:
./functions.h:30:29: error: unknown type name 'x'
int remove_semaphores(void);x
                            ^
./functions.h:32:1: error: expected identifier or '('
int sem_wait(int sem_id);
^
2 errors generated.
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
In file included from shmem.c:1:
./functions.h:30:29: error: unknown type name 'x'
int remove_semaphores(void);x
                            ^
./functions.h:32:1: error: expected identifier or '('
int sem_wait(int sem_id);
^
shmem.c:21:2: error: use of undeclared identifier 'objShm'
        objShm = shmat(shmid, (void *)0, 0);
        ^
shmem.c:23:6: error: use of undeclared identifier 'objShm'
        if (objShm == (void *)-1) {
            ^
shmem.c:28:41: error: use of undeclared identifier 'objShm'
        printf("Memory attached at %X\n", (int)objShm);
                                               ^
shmem.c:30:9: error: use of undeclared identifier 'objShm'
        return objShm;
               ^
shmem.c:36:15: error: use of undeclared identifier 'objShm'
    if (shmdt(objShm) == -1) {
              ^
7 errors generated.
In file included from semaphores.c:1:
./functions.h:30:29: error: unknown type name 'x'
int remove_semaphores(void);x
                            ^
./functions.h:32:1: error: expected identifier or '('
int sem_wait(int sem_id);
^
2 errors generated.
In file included from main.c:9:
./functions.h:30:29: error: unknown type name 'x'
int remove_semaphores(void);x
                            ^
./functions.h:32:1: error: expected identifier or '('
int sem_wait(int sem_id);
^
2 errors generated.
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
shmem.c:21:2: error: use of undeclared identifier 'objShm'
        objShm = shmat(shmid, (void *)0, 0);
        ^
shmem.c:23:6: error: use of undeclared identifier 'objShm'
        if (objShm == (void *)-1) {
            ^
shmem.c:28:41: error: use of undeclared identifier 'objShm'
        printf("Memory attached at %X\n", (int)objShm);
                                               ^
shmem.c:30:9: error: use of undeclared identifier 'objShm'
        return objShm;
               ^
shmem.c:36:15: error: use of undeclared identifier 'objShm'
    if (shmdt(objShm) == -1) {
              ^
5 errors generated.
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
shmem.c:37:15: error: use of undeclared identifier 'objShm'
    if (shmdt(objShm) == -1) {
              ^
1 error generated.
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
shmem.c:37:15: error: use of undeclared identifier 'objShm'
    if (shmdt(objShm) == -1) {
              ^
1 error generated.
make: *** [all] Error 1
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 1441814.
Semaphore created -> 1376279.
Semaphore created -> 1310744.
Memory attached at 2263000
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 1507350.
Semaphore created -> 1441815.
Semaphore created -> 1376280.
Memory attached at 70BC000
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 1638422.
Semaphore created -> 1572887.
Semaphore created -> 1507352.
Memory attached at 8F0C000
Shared memory could not be released.
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 1703958.
Semaphore created -> 1638423.
Semaphore created -> 1572888.
Memory attached at B391000
owong:ProducerConsumer awong$ make
gcc shmem.c semaphores.c main.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 1769494.
Semaphore created -> 1703959.
Semaphore created -> 1638424.
Memory attached at FD6F000
owong:ProducerConsumer awong$ make
gcc main.c shmem.c semaphores.c -o main
main.c:14:6: error: conflicting types for 'write'
void write(void);
     ^
/usr/include/unistd.h:490:10: note: previous declaration is here
ssize_t  write(int, const void *, size_t) __DARWIN_ALIAS_C(write);
         ^
main.c:30:8: error: too few arguments to function call, expected 3, have 0
        write();
        ~~~~~ ^
/usr/include/unistd.h:490:1: note: 'write' declared here
ssize_t  write(int, const void *, size_t) __DARWIN_ALIAS_C(write);
^
main.c:41:6: error: conflicting types for 'write'
void write(void)
     ^
/usr/include/unistd.h:490:10: note: previous declaration is here
ssize_t  write(int, const void *, size_t) __DARWIN_ALIAS_C(write);
         ^
3 errors generated.
make: *** [main] Error 1
owong:ProducerConsumer awong$ make
gcc main.c shmem.c semaphores.c -o main
main.c:14:5: error: conflicting types for 'write'
int write(void);
    ^
/usr/include/unistd.h:490:10: note: previous declaration is here
ssize_t  write(int, const void *, size_t) __DARWIN_ALIAS_C(write);
         ^
main.c:30:8: error: too few arguments to function call, expected 3, have 0
        write();
        ~~~~~ ^
/usr/include/unistd.h:490:1: note: 'write' declared here
ssize_t  write(int, const void *, size_t) __DARWIN_ALIAS_C(write);
^
main.c:41:5: error: conflicting types for 'write'
int write(void)
    ^
/usr/include/unistd.h:490:10: note: previous declaration is here
ssize_t  write(int, const void *, size_t) __DARWIN_ALIAS_C(write);
         ^
3 errors generated.
make: *** [main] Error 1
owong:ProducerConsumer awong$ make
gcc main.c shmem.c semaphores.c -o main
gcc Consumer.c shmem.c semaphores.c -o main
Consumer.c:16:30: error: redefinition of 'c_sem_E_id'
        int c_sem_S_id, c_sem_E_id, c_sem_E_id;
                                    ^
Consumer.c:16:18: note: previous definition is here
        int c_sem_S_id, c_sem_E_id, c_sem_E_id;
                        ^
Consumer.c:25:5: error: use of undeclared identifier 'c_sem_N_id'
    c_sem_N_id = semget((key_t)8001, 1, 0666 | IPC_CREAT);
    ^
2 errors generated.
make: *** [consumer] Error 1
owong:ProducerConsumer awong$ make
gcc Consumer.c shmem.c semaphores.c -o main
owong:ProducerConsumer awong$ ls -l
total 72
-rw-r--r--  1 awong  staff   1396 26 Oct 16:06 Consumer.c
-rw-r--r--  1 awong  staff    305 26 Oct 16:04 Makefile
-rw-r--r--  1 awong  staff    752 26 Oct 15:22 functions.h
-rwxr-xr-x  1 awong  staff  10000 26 Oct 16:06 main
-rw-r--r--  1 awong  staff    770 26 Oct 16:05 main.c
-rw-r--r--  1 awong  staff   2500 26 Oct 15:43 semaphores.c
-rw-r--r--  1 awong  staff   1102 26 Oct 15:09 shmem.c
owong:ProducerConsumer awong$ make all
gcc Consumer.c shmem.c semaphores.c -o main
owong:ProducerConsumer awong$ ls -l
total 72
-rw-r--r--  1 awong  staff   1396 26 Oct 16:06 Consumer.c
-rw-r--r--  1 awong  staff    305 26 Oct 16:04 Makefile
-rw-r--r--  1 awong  staff    752 26 Oct 15:22 functions.h
-rwxr-xr-x  1 awong  staff  10000 26 Oct 16:06 main
-rw-r--r--  1 awong  staff    770 26 Oct 16:05 main.c
-rw-r--r--  1 awong  staff   2500 26 Oct 15:43 semaphores.c
-rw-r--r--  1 awong  staff   1102 26 Oct 15:09 shmem.c
owong:ProducerConsumer awong$ make all
gcc Consumer.c shmem.c semaphores.c -o consumer
owong:ProducerConsumer awong$ ls -l
total 96
-rw-r--r--  1 awong  staff   1396 26 Oct 16:06 Consumer.c
-rw-r--r--  1 awong  staff    309 26 Oct 16:06 Makefile
-rwxr-xr-x  1 awong  staff  10000 26 Oct 16:06 consumer
-rw-r--r--  1 awong  staff    752 26 Oct 15:22 functions.h
-rwxr-xr-x  1 awong  staff  10000 26 Oct 16:06 main
-rw-r--r--  1 awong  staff    770 26 Oct 16:05 main.c
-rw-r--r--  1 awong  staff   2500 26 Oct 15:43 semaphores.c
-rw-r--r--  1 awong  staff   1102 26 Oct 15:09 shmem.c
owong:ProducerConsumer awong$ ./main 
Shared memory could not be allocated.
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main 
Semaphore created -> 1835030.
Semaphore created -> 1769495.
Semaphore created -> 1703960.
Memory attached at AD9B000
owong:ProducerConsumer awong$ make all
make: Nothing to be done for `all'.
owong:ProducerConsumer awong$ make
make: Nothing to be done for `all'.
owong:ProducerConsumer awong$ make
make: Nothing to be done for `all'.
owong:ProducerConsumer awong$ ./main 
Semaphore created -> 1900566.
Semaphore created -> 1835031.
Semaphore created -> 1769496.
Memory attached at 817A000
owong:ProducerConsumer awong$ make
make: Nothing to be done for `all'.
owong:ProducerConsumer awong$ make
make: Nothing to be done for `all'.
owong:ProducerConsumer awong$ makeall
-bash: makeall: command not found
owong:ProducerConsumer awong$ make all
make: Nothing to be done for `all'.
owong:ProducerConsumer awong$ ./main
Semaphore created -> 1966102.
Semaphore created -> 1900567.
Semaphore created -> 1835032.
Memory attached at B762000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2031638.
Semaphore created -> 1966103.
Semaphore created -> 1900568.
Memory attached at E8F6000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2097174.
Semaphore created -> 2031639.
Semaphore created -> 1966104.
Memory attached at 7E2000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2162710.
Semaphore created -> 2097175.
Semaphore created -> 2031640.
Memory attached at 4197000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2228246.
Semaphore created -> 2162711.
Semaphore created -> 2097176.
Memory attached at C78C000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2293782.
Semaphore created -> 2228247.
Semaphore created -> 2162712.
Memory attached at 1E80000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2359318.
Semaphore created -> 2293783.
Semaphore created -> 2228248.
Memory attached at E648000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2424854.
Semaphore created -> 2359319.
Semaphore created -> 2293784.
Memory attached at 7FFC000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2490390.
Semaphore created -> 2424855.
Semaphore created -> 2359320.
Memory attached at 98DF000
Copied.
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2555926.
Semaphore created -> 2490391.
Semaphore created -> 2424856.
Memory attached at 6BAE000
Copied.
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2621462.
Semaphore created -> 2555927.
Semaphore created -> 2490392.
Memory attached at FE12000
Copied.
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2686998.
Semaphore created -> 2621463.
Semaphore created -> 2555928.
Memory attached at 5857000
Copied.
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2752534.
Semaphore created -> 2686999.
Semaphore created -> 2621464.
Memory attached at 2C79000
Copied.
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2818070.
Semaphore created -> 2752535.
Semaphore created -> 2687000.
Memory attached at 574A000
Copied.
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2883606.
Semaphore created -> 2818071.
Semaphore created -> 2752536.
Memory attached at 32EE000
Copied.
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 2949142.
Semaphore created -> 2883607.
Semaphore created -> 2818072.
Memory attached at 847B000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3014678.
Semaphore created -> 2949143.
Semaphore created -> 2883608.
Memory attached at EBB4000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3080214.
Semaphore created -> 3014679.
Semaphore created -> 2949144.
Memory attached at F278000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3145750.
Semaphore created -> 3080215.
Semaphore created -> 3014680.
Memory attached at B693000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3211286.
Semaphore created -> 3145751.
Semaphore created -> 3080216.
Memory attached at 8B0B000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
main.c:28:13: error: non-ASCII characters are not allowed outside of literals and identifiers
        in = fopen(inputfile.txt,r);
                   ^
main.c:28:16: error: use of undeclared identifier 'inputfile'
        in = fopen(inputfile.txt,r);
                    ^
main.c:28:29: error: non-ASCII characters are not allowed outside of literals and identifiers
        in = fopen(inputfile.txt,r);
                                 ^
main.c:28:33: error: non-ASCII characters are not allowed outside of literals and identifiers
        in = fopen(inputfile.txt,r);
                                   ^
main.c:28:37: error: non-ASCII characters are not allowed outside of literals and identifiers
        in = fopen(inputfile.txt,r);
                                     ^
main.c:28:36: error: use of undeclared identifier 'r'
        in = fopen(inputfile.txt,r);
                                    ^
6 errors generated.
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3276822.
Semaphore created -> 3211287.
Semaphore created -> 3145752.
Memory attached at 7C94000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3342358.
Semaphore created -> 3276823.
Semaphore created -> 3211288.
Memory attached at 6F4F000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3407894.
Semaphore created -> 3342359.
Semaphore created -> 3276824.
Memory attached at 9EB000
#include <unistd.h>
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#include <sys/sem.h>
#include <sys/shm.h>

#include "functions.h"

// Internal Functions
static int readItem(void);
static int init_all(void);
static int clean_all(void);

int c_sem_S_id, c_sem_N_id, c_sem_E_id;
int c_shmid;

struct buf_element *c_item;

FILE *out;

int main()
{
	init_all();

	int i;
	for (i = 0; i < 10; i++) {
		sem_wait(c_sem_N_id);
		sem_wait(c_sem_S_id);
		readItem();
		sem_signal(c_sem_S_id);
		sem_signal(c_sem_E_id);
		sleep(1);
	}

	clean_all();

    exit(EXIT_SUCCESS);
}

static int readItem(void)
{
	struct buf_element temp;
	temp = c_item[out_item];

	printf("%s", temp.text);
	printf("Length: %d\n", 	temp.byte_count);

	out_item++;

	return 1;
}

static int init_all(void)
{
	// Initializing semaphores and shared memory....		
    c_sem_S_id = semget((key_t)8000, 1, 0666 | IPC_CREAT);

    if(c_sem_S_id == -1) {
        fprintf(stderr, "Semaphore S could not be initialized.\n");
        exit(EXIT_FAILURE);
    }

    c_sem_N_id = semget((key_t)8001, 1, 0666 | IPC_CREAT);

    if(c_sem_N_id == -1) {
        fprintf(stderr, "Semaphore N could not be initialized.\n");
        exit(EXIT_FAILURE);
    }

    c_sem_E_id = semget((key_t)8002, 1, 0666 | IPC_CREAT);

    if(c_sem_E_id == -1) {
        fprintf(stderr, "Semaphore E could not be initialized.\n");
        exit(EXIT_FAILURE);
    }

    c_shmid = shmget((key_t)1234, sizeof(*item) * nBuffers, 0666 | IPC_CREAT);

	if (c_shmid == 1) {
		fprintf(stderr, "Shared memory could not be allocated.\n");
		exit(EXIT_FAILURE);
	}

	c_item = (struct buf_element*) shmat(c_shmid, (void *)0, 0);

	if (c_item == (void *)-1) {
		fprintf(stderr, "Shared memory could not be allocated.\n");
		exit(EXIT_FAILURE);
	}

	printf("Memory attached at %X\n", (int)c_item);

	return 1;
}

static int clean_all(void)
{
	// Cleaning up shared memory....		



^C
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3407894.
Semaphore created -> 3342359.
Semaphore created -> 3276824.
Memory attached at EAE6000
#include <unistd.h>
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#include <sys/sem.h>
#include <sys/shm.h>

#include "functions.h"

// Internal Functions
static int readItem(void);
static int init_all(void);
static int clean_all(void);

int c_sem_S_id, c_sem_N_id, c_sem_E_id;
int c_shmid;

struct buf_element *c_item;

FILE *out;

int main()
{
	init_all();

	int i;
	for (i = 0; i < 10; i++) {
		sem_wait(c_sem_N_id);
		sem_wait(c_sem_S_id);
		readItem();
		sem_signal(c_sem_S_id);
		sem_signal(c_sem_E_id);
		sleep(1);
	}

	clean_all();

    exit(EXIT_SUCCESS);
}

static int readItem(void)
{
	struct buf_element temp;
	temp = c_item[out_item];

	printf("%s", temp.text);
	printf("Length: %d\n", 	temp.byte_count);

	out_item++;

	return 1;
}

static int init_all(void)
{
	// Initializing semaphores and shared memory....		
    c_sem_S_id = semget((key_t)8000, 1, 0666 | IPC_CREAT);

    if(c_sem_S_id == -1) {
        fprintf(stderr, "Semaphore S could not be initialized.\n");
        exit(EXIT_FAILURE);
    }

    c_sem_N_id = semget((key_t)8001, 1, 0666 | IPC_CREAT);

    if(c_sem_N_id == -1) {
        fprintf(stderr, "Semaphore N could not be initialized.\n");
        exit(EXIT_FAILURE);
    }

    c_sem_E_id = semget((key_t)8002, 1, 0666 | IPC_CREAT);

    if(c_sem_E_id == -1) {
        fprintf(stderr, "Semaphore E could not be initialized.\n");
        exit(EXIT_FAILURE);
    }

    c_shmid = shmget((key_t)1234, sizeof(*item) * nBuffers, 0666 | IPC_CREAT);

	if (c_shmid == 1) {
		fprintf(stderr, "Shared memory could not be allocated.\n");
		exit(EXIT_FAILURE);
	}

	c_item = (struct buf_element*) shmat(c_shmid, (void *)0, 0);

	if (c_item == (void *)-1) {
		fprintf(stderr, "Shared memory could not be allocated.\n");
		exit(EXIT_FAILURE);
	}

	printf("Memory attached at %X\n", (int)c_item);

	return 1;
}

static int clean_all(void)
{
	// Cleaning up shared memory....		
^C^C
owong:ProducerConsumer awong$ 
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3407894.
Semaphore created -> 3342359.
Semaphore created -> 3276824.
Memory attached at 909B000
#include <unistd.h>
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#include <sys/sem.h>
#include <sys/shm.h>

#include "functions.h"

// Internal Functions
static int readItem(void);
static int init_all(void);
static int clean_all(void);

int c_sem_S_id, c_sem_N_id, c_sem_E_id;
int c_shmid;

struct buf_element *c_item;

FILE *out;

int main()
{
	init_all();

	int i;
	for (i = 0; i < 10; i++) {
		sem_wait(c_sem_N_id);
		sem_wait(c_sem_S_id);
		readItem();
		sem_signal(c_sem_S_id);
		sem_signal(c_sem_E_id);
		sleep(1);
	}

	clean_all();

    exit(EXIT_SUCCESS);
}

static int readItem(void)
{
	struct buf_element temp;
	temp = c_item[out_item];

	printf("%s", temp.text);
	printf("Length: %d\n", 	temp.byte_count);

	out_item++;

	return 1;
}

static int init_all(void)
{
	// Initializing semaphores and shared memory....		
    c_sem_S_id = semget((key_t)8000, 1, 0666 | IPC_CREAT);

    if(c_sem_S_id == -1) {
        fprintf(stderr, "Semaphore S could not be initialized.\n");
        exit(EXIT_FAILURE);
    }

    c_sem_N_id = semget((key_t)8001, 1, 0666 | IPC_CREAT);

    if(c_sem_N_id == -1) {
        fprintf(stderr, "Semaphore N could not be initialized.\n");
        exit(EXIT_FAILURE);
    }

    c_sem_E_id = semget((key_t)8002, 1, 0666 | IPC_CREAT);

    if(c_sem_E_id == -1) {
        fprintf(stderr, "Semaphore E could not be initialized.\n");
        exit(EXIT_FAILURE);
    }

    c_shmid = shmget((key_t)1234, sizeof(*item) * nBuffers, 0666 | IPC_CREAT);

	if (c_shmid == 1) {
		fprintf(stderr, "Shared memory could not be allocated.\n");
		exit(EXIT_FAILURE);
	}

	c_item = (struct buf_element*) shmat(c_shmid, (void *)0, 0);

	if (c_item == (void *)-1) {
		fprintf(stderr, "Shared memory could not be allocated.\n");
		exit(EXIT_FAILURE);
	}

	printf("Memory attached at %X\n", (int)c_item);

	return 1;
}

static int clean_all(void)
{
	// Cleaning up shared memory....		
^C
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3407894.
Semaphore created -> 3342359.
Semaphore created -> 3276824.
Memory attached at 1671000
#include <unistd.h>
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#include <sys/sem.h>
#include <sys/shm.h>

#include "functions.h"

// Internal Functions
static int readItem(void);
static int init_all(void);
static int clean_all(void);

int c_sem_S_id, c_sem_N_id, c_sem_E_id;
int c_shmid;

struct buf_element *c_item;

FILE *out;

int main()
{
	init_all();

	int i;
	for (i = 0; i < 10; i++) {
		sem_wait(c_sem_N_id);
		sem_wait(c_sem_S_id);
		readItem();
		sem_signal(c_sem_S_id);
		sem_signal(c_sem_E_id);
		sleep(1);
	}

	clean_all();

    exit(EXIT_SUCCESS);
}

static int readItem(void)
{
	struct buf_element temp;
	temp = c_item[out_item];

	printf("%s", temp.text);
	printf("Length: %d\n", 	temp.byte_count);

	out_item++;

	return 1;
}

static int init_all(void)
{
	// Initializing semaphores and shared memory....		
    c_sem_S_id = semget((key_t)8000, 1, 0666 | IPC_CREAT);

    if(c_sem_S_id == -1) {
        fprintf(stderr, "Semaphore S could not be initialized.\n");
        exit(EXIT_FAILURE);
    }

    c_sem_N_id = semget((key_t)8001, 1, 0666 | IPC_CREAT);

    if(c_sem_N_id == -1) {
        fprintf(stderr, "Semaphore N could not be initialized.\n");
        exit(EXIT_FAILURE);
    }

    c_sem_E_id = semget((key_t)8002, 1, 0666 | IPC_CREAT);

    if(c_sem_E_id == -1) {
        fprintf(stderr, "Semaphore E could not be initialized.\n");
        exit(EXIT_FAILURE);
    }

    c_shmid = shmget((key_t)1234, sizeof(*item) * nBuffers, 0666 | IPC_CREAT);

	if (c_shmid == 1) {
		fprintf(stderr, "Shared memory could not be allocated.\n");
		exit(EXIT_FAILURE);
	}

	c_item = (struct buf_element*) shmat(c_shmid, (void *)0, 0);

	if (c_item == (void *)-1) {
		fprintf(stderr, "Shared memory could not be allocated.\n");
		exit(EXIT_FAILURE);
	}

	printf("Memory attached at %X\n", (int)c_item);

	return 1;
}

static int clean_all(void)
{
	// Cleaning up shared memory....		
	shmdt(c_item);

	return 1;
}owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3473430.
Semaphore created -> 3407895.
Semaphore created -> 3342360.
Memory attached at 7676000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3538966.
Semaphore created -> 3473431.
Semaphore created -> 3407896.
Memory attached at 88C1000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3604502.
Semaphore created -> 3538967.
Semaphore created -> 3473432.
Memory attached at A0A5000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3670038.
Semaphore created -> 3604503.
Semaphore created -> 3538968.
Memory attached at 4174000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3735574.
Semaphore created -> 3670039.
Semaphore created -> 3604504.
Memory attached at 7AD0000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3801110.
Semaphore created -> 3735575.
Semaphore created -> 3670040.
Memory attached at 62DE000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3866646.
Semaphore created -> 3801111.
Semaphore created -> 3735576.
Memory attached at F449000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3932182.
Semaphore created -> 3866647.
Semaphore created -> 3801112.
Memory attached at C06A000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 3997718.
Semaphore created -> 3932183.
Semaphore created -> 3866648.
Memory attached at 6FBC000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 4063254.
Semaphore created -> 3997719.
Semaphore created -> 3932184.
Memory attached at D3D2000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 4128790.
Semaphore created -> 4063255.
Semaphore created -> 3997720.
Memory attached at E28E000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 4194326.
Semaphore created -> 4128791.
Semaphore created -> 4063256.
Memory attached at 7739000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 4259862.
Semaphore created -> 4194327.
Semaphore created -> 4128792.
Memory attached at 7B45000
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
In file included from main.c:11:
./functions.h:19:21: error: conflicting types for 'allocate_sharedMemory'
struct buf_element* allocate_sharedMemory(int shmid);
                    ^
./functions.h:18:5: note: previous declaration is here
int allocate_sharedMemory(void);
    ^
main.c:93:9: warning: implicit declaration of function 'attach_sharedMemory' is invalid in C99
      [-Wimplicit-function-declaration]
        item = attach_sharedMemory(shmid);
               ^
main.c:93:7: warning: incompatible integer to pointer conversion assigning to 'struct buf_element *' from 'int'
      [-Wint-conversion]
        item = attach_sharedMemory(shmid);
             ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~
2 warnings and 1 error generated.
In file included from semaphores.c:1:
./functions.h:19:21: error: conflicting types for 'allocate_sharedMemory'
struct buf_element* allocate_sharedMemory(int shmid);
                    ^
./functions.h:18:5: note: previous declaration is here
int allocate_sharedMemory(void);
    ^
1 error generated.
In file included from shmem.c:1:
./functions.h:19:21: error: conflicting types for 'allocate_sharedMemory'
struct buf_element* allocate_sharedMemory(int shmid);
                    ^
./functions.h:18:5: note: previous declaration is here
int allocate_sharedMemory(void);
    ^
shmem.c:15:38: error: use of undeclared identifier 'item'
        shmid = shmget((key_t)1234, sizeof(*item) * nBuffers, 0666 | IPC_CREAT);
                                            ^
2 errors generated.
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
In file included from main.c:11:
./functions.h:19:21: error: conflicting types for 'allocate_sharedMemory'
struct buf_element* allocate_sharedMemory(int shmid);
                    ^
./functions.h:18:5: note: previous declaration is here
int allocate_sharedMemory(struct buf_element* item);
    ^
main.c:93:9: warning: implicit declaration of function 'attach_sharedMemory' is invalid in C99
      [-Wimplicit-function-declaration]
        item = attach_sharedMemory(shmid);
               ^
main.c:93:7: warning: incompatible integer to pointer conversion assigning to 'struct buf_element *' from 'int'
      [-Wint-conversion]
        item = attach_sharedMemory(shmid);
             ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~
2 warnings and 1 error generated.
In file included from semaphores.c:1:
./functions.h:19:21: error: conflicting types for 'allocate_sharedMemory'
struct buf_element* allocate_sharedMemory(int shmid);
                    ^
./functions.h:18:5: note: previous declaration is here
int allocate_sharedMemory(struct buf_element* item);
    ^
1 error generated.
In file included from shmem.c:1:
./functions.h:19:21: error: conflicting types for 'allocate_sharedMemory'
struct buf_element* allocate_sharedMemory(int shmid);
                    ^
./functions.h:18:5: note: previous declaration is here
int allocate_sharedMemory(struct buf_element* item);
    ^
1 error generated.
owong:ProducerConsumer awong$ gcc main.c semaphores.c shmem.c -o main
owong:ProducerConsumer awong$ ./main
Semaphore created -> 4325398.
Semaphore created -> 4259863.
Semaphore created -> 4194328.
Memory attached at BA34000
owong:ProducerConsumer awong$ ./main
Semaphore created -> 4390934.
Semaphore created -> 4325399.
Semaphore created -> 4259864.
Memory attached at 198C000
^C
owong:ProducerConsumer awong$ 
